{% extends "admin_base.html" %}

{% block header %}
  <style type="text/css">
    thead th { padding-top: 2px; padding-bottom: 2px; vertical-align: bottom; text-align: center; background-color: #574349; color: #E8E5DD; }
    th, td { white-space: nowrap; border: 1px solid #FFFFFF; }
    table tr.odd td { background-color: #FFF; }
    table tr.even td { background-color: #E8E5DD; }
  </style>
{% endblock %}

{% block nav %}
  {% include "admin_nav.html" %}
{% endblock %}

{% block content %}
  <div class="span-24 last below-8">
    <span class="title">Summaries</span>
  </div>

  <div class="span-24 last below-8">
    <div class="span-3">
      <table class="summary">
        <thead><tr><th># Members</th></tr></thead>
        <tbody>
          <tr class="even"><td>{{member_count}}</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="span-24 last below-8">
    <div class="span-10">
      <table class="summary">
        <thead><tr><th colspan="12">Totals by Location and Share Type</th></tr></thead>
        <thead>
          <tr>
            <th>Location</th>
            <th>V</th><th>Fr</th><th>E</th><th>Fl</th><th>PS</th><th>Vso</th>
            <th>BR</th><th>C</th><th>M</th><th>BD</th><th>Pl</th>
          </tr>
        </thead>
        <tbody>
          {% for location, counts in location_counts %}
            <tr {% cycle 'class="odd"' 'class="even"' %}>
              <td>{{location}}</td>
              {% for count in counts %}
              <td>{{count}}</td>
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <div class="span-24 last">
    <div class="span-5">
      <table class="summary">
        <thead>
          <tr><th colspan="3">Veggie A/B Count</th></tr>
          <tr><th>Day</th><th>Week</th><th>Count</th></tr>
        </thead>
        <tbody>
          {% for day, assigned_week, total in veggie_counts %}
            <tr {% cycle 'class="odd"' 'class="even"' %}><td>{{day}}</td><td>{{assigned_week|default_if_none:""}}</td><td>{{total}}</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <div class="span-5">
      <table class="summary">
        <thead>
          <tr><th colspan="3">Fruit A/B Count</th></tr>
          <tr><th>Day</th><th>Week</th><th>Count</th></tr>
        </thead>
        <tbody>
          {% for day, assigned_week, total in fruit_counts %}
            <tr {% cycle 'class="odd"' 'class="even"' %}><td>{{day}}</td><td>{{assigned_week|default_if_none:""}}</td><td>{{total}}</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <div class="span-5">
      <table class="summary">
        <thead>
          <tr><th colspan="3">Egg A/B Count</th></tr>
          <tr><th>Day</th><th>Week</th><th>Count</th></tr>
        </thead>
        <tbody>
          {% for day, assigned_week, total in egg_counts %}
            <tr {% cycle 'class="odd"' 'class="even"' %}><td>{{day}}</td><td>{{assigned_week|default_if_none:""}}</td><td>{{total}}</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <div class="span-5">
      <table class="summary">
        <thead>
          <tr><th colspan="3">Flower A/B Count</th></tr>
          <tr><th>Day</th><th>Week</th><th>Count</th></tr>
        </thead>
        <tbody>
          {% for day, assigned_week, total in flower_counts %}
            <tr {% cycle 'class="odd"' 'class="even"' %}><td>{{day}}</td><td>{{assigned_week|default_if_none:""}}</td><td>{{total}}</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <div class="span-4 last">
      <table class="summary">
        <thead>
          <tr><th colspan="3">Weekly Share Count</th></tr>
          <tr><th>Day</th><th>Content</th><th>Count</th></tr>
        </thead>
        <tbody>
          {% for day, content, total in weekly_counts %}
            <tr {% cycle 'class="odd"' 'class="even"' %}><td>{{day}}</td><td>{{content}}</td><td>{{total}}</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

  </div>

{% endblock %}
